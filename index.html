<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TAJ MEDICAL AND GENERAL STORE</title>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f7f7f7;
    }
    header {
      background-color: #6a1b9a;
      color: white;
      padding: 28px;
      position: relative;
      text-align: center;
    }
    header img {
      position: absolute;
      top: 15px;
      left: 20px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
    }
    .menu-icon {
      position: absolute;
      top: 20px;
      right: 20px;
      font-size: 40px;
      cursor: pointer;
    }
    nav {
      background-color: #4a148c;
      text-align: center;
      padding: 10px;
    }
    nav a {
      color: white;
      margin: 0 20px;
      text-decoration: none;
      font-weight: bold;
      font-size: 22px;
      cursor: pointer;
    }
    .sidebar {
      position: fixed;
      top: 0;
      right: -250px;
      width: 250px;
      height: 100%;
      background-color: #4a148c;
      color: white;
      transition: right 0.3s;
      padding-top: 60px;
      z-index: 999;
    }
    .sidebar a {
      display: block;
      padding: 15px;
      font-size: 24px;
      color: white;
      text-decoration: none;
      font-weight: bold;
    }
    .sidebar a:hover {
      background-color: #6a1b9a;
    }
    .container {
      padding: 20px;
    }
    section {
      margin-bottom: 50px;
      display: none;
    }
    h2, h1 {
      color: #333;
    }
    .item-card {
      border: 1px solid #ddd;
      background: #fff;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 15px;
    }
    .item-card img {
      max-width: 100px;
      max-height: 100px;
      display: block;
      margin-top: 10px;
    }
    .filters {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    .filters input {
      flex: 2;
      padding: 14px;
      font-size: 18px;
    }
    .filters select {
      flex: 1;
    }
    input, textarea, select {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    button {
      background-color: #4CAF50;
      color: white;
      padding: 12px 20px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background-color: #45a049;
    }
    .centered-login {
      max-width: 400px;
      margin: auto;
    }
    footer {
      background-color: #6a1b9a;
      color: white;
      text-align: center;
      padding: 15px;
    }
  </style>
</head>
<body onload="showSection('home')">
  <header>
    <img src="logo.png" alt="Logo">
    <h1 style="color: white;">TAJ MEDICAL AND GENERAL STORE</h1>
    <h2>We provide high-quality medicines and healthcare essentials!</p>
    <div class="menu-icon" onclick="toggleSidebar()">&#9776;</div>
  </header>
  <nav>
    <a href="javascript:void(0)" onclick="showSection('about')">About</a>
    <a href="javascript:void(0)" onclick="showSection('services')">Services</a>
    <a href="javascript:void(0)" onclick="showSection('contact')">Contact</a>
  </nav>
  <div id="sidebar" class="sidebar">
    <a href="javascript:void(0)" onclick="showSection('home'); toggleSidebar()">Home</a>
    <a href="javascript:void(0)" onclick="showSection('login'); toggleSidebar()">Add / Update Items</a>
    <a href="javascript:void(0)" onclick="showSection('view-items'); toggleSidebar()">View Items</a>
  </div>
  <div class="container">
    <section id="home">
      <h2>Welcome to TAJ MEDICAL AND GENERAL STORE</h2>
      <h2>Your health, our priority. Shop now for reliable and trusted products.</p>
      <p>Feel free to browse our inventory or contact us for personalized assistance.</p>
    </section>
    <section id="about">
      <h2 style="color: purple;">About Us</h2>
      <h2>Owner: Muhammad Pervaiz</h2>
      <p style="color: purple;">Store Hours: 6:00 AM – 10:00 PM</p>
      <p style="color: purple;">Clinic Timing:</p>
      <p>99 GB: Morning: 6:00 AM – 3:00 PM, Evening: 8:00 PM - 10:00 PM</p>
      <p>98 GB: Evening: 3:00 PM - 7:30 PM</p>
      <p style="color: purple;">Address: Chak No. 99 GB Nehang Badala, Jaranwala, Faisalabad</p>
    </section>
    <section id="services">
      <h2>Our Services</h2>
      <ul>
        <li>Prescription fulfillment</li>
        <li>Over-the-counter medicine</li>
        <li>Health supplements and wellness products</li>
      </ul>
    </section>
    <section id="contact">
      <h2>Contact Us</h2>
      <p>Phone: 03437769660 , 03167328419</p>
      <p>Email: mparvaiz.0099@gmail.com</p>
      <p>Address: Chak No. 99 GB Nehang Badala, Jaranwala, Faisalabad</p>
      <iframe src="https://maps.google.com/maps?q=chak%20no.%2099%20gb%20nehang%20badala&t=&z=13&ie=UTF8&iwloc=&output=embed" width="100%" height="300" frameborder="0"></iframe>
    </section>
    <section id="login">
      <h2>Login</h2>
      <div class="centered-login">
        <input type="text" id="username" placeholder="Username">
        <input type="password" id="password" placeholder="Password">
        <input type="checkbox" onclick="togglePassword()"> Show Password
        <button onclick="login()">Login</button>
      </div>
    </section>
    <section id="add-item-form" style="display:none">
      <h2>Add / Update Item</h2>
      <form onsubmit="addItem(event)">
        <input type="text" id="item-name" placeholder="Item Name">
        <select id="item-category">
          <option value="">Select Category</option>
          <option value="Medicine">Medicine</option>
          <option value="Supplement">Supplement</option>
          <option value="Equipment">Equipment</option>
          <option value="Other">Other</option>
        </select>
        <input type="number" id="item-price" placeholder="Price">
        <input type="file" id="item-image">
        <textarea id="item-description" placeholder="Description"></textarea>
        <button type="submit">Submit</button>
        <p id="success-message"></p>
      </form>
    </section>
    <section id="view-items">
      <h2>View Items</h2>
      <div class="filters">
        <input type="text" id="search-box" placeholder="Search items..." oninput="filterItems()">
        <select id="category-filter" onchange="filterItems()">
          <option value="">All Categories</option>
          <option value="Medicine">Medicine</option>
          <option value="Supplement">Supplement</option>
          <option value="Equipment">Equipment</option>
          <option value="Other">Other</option>
        </select>
        <select id="sort-select" onchange="sortItems()">
          <option value="">Sort By</option>
          <option value="name">Name</option>
          <option value="price">Price</option>
        </select>
      </div>
      <div id="items-list"></div>
    </section>
  </div>
  <footer>
    <p>&copy; 2025 TAJ Medical and General Store. All rights reserved.</p>
  </footer>
  <script>
    let items = [];

    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      sidebar.style.right = sidebar.style.right === '0px' ? '-250px' : '0px';
    }

    function showSection(id) {
      document.querySelectorAll('section').forEach(s => s.style.display = 'none');
      const el = document.getElementById(id);
      if (el) el.style.display = 'block';
    }

    function togglePassword() {
      const pass = document.getElementById('password');
      pass.type = pass.type === 'password' ? 'text' : 'password';
    }

    function login() {
      const username = document.getElementById('username').value.trim();
      const password = document.getElementById('password').value;
      if (username === 'Taj medical and general store' && password === 'tajmedicalstore.00') {
        document.getElementById('add-item-form').style.display = 'block';
        showSection('add-item-form');
      } else {
        alert('Invalid credentials');
      }
    }

    function addItem(event) {
      event.preventDefault();
      const name = document.getElementById('item-name').value || 'Unnamed';
      const category = document.getElementById('item-category').value || 'Uncategorized';
      const price = document.getElementById('item-price').value || '0';
      const description = document.getElementById('item-description').value || 'No description';
      const image = document.getElementById('item-image').files[0];
      const imageUrl = image ? URL.createObjectURL(image) : '';

      // Check if the item with the same name already exists
      const existingItemIndex = items.findIndex(item => item.name.toLowerCase() === name.toLowerCase());
      
      if (existingItemIndex !== -1) {
        // Item exists, update the price and other details
        items[existingItemIndex].price = price;
        items[existingItemIndex].category = category;
        items[existingItemIndex].description = description;
        items[existingItemIndex].imageUrl = imageUrl; // Update image if a new one is provided
        document.getElementById('success-message').textContent = 'Item updated successfully!';
      } else {
        // Item does not exist, add a new one
        items.push({ name, category, price, description, imageUrl });
        document.getElementById('success-message').textContent = 'Item added successfully!';
      }

      displayItems();
      document.querySelector('#add-item-form form').reset();
    }

    function filterItems() {
      const searchQuery = document.getElementById('search-box').value.toLowerCase();
      const categoryFilter = document.getElementById('category-filter').value;
      const filteredItems = items.filter(item => {
        const matchesName = item.name.toLowerCase().includes(searchQuery);
        const matchesCategory = categoryFilter ? item.category === categoryFilter : true;
        return matchesName && matchesCategory;
      });
      displayItems(filteredItems);
    }

    function sortItems() {
      const sortBy = document.getElementById('sort-select').value;
      const sortedItems = [...items];
      if (sortBy === 'name') {
        sortedItems.sort((a, b) => a.name.localeCompare(b.name));
      } else if (sortBy === 'price') {
        sortedItems.sort((a, b) => parseFloat(a.price) - parseFloat(b.price));
      }
      displayItems(sortedItems);
    }

    function displayItems(filteredItems = items) {
      const itemsList = document.getElementById('items-list');
      itemsList.innerHTML = '';
      filteredItems.forEach(item => {
        const itemCard = document.createElement('div');
        itemCard.classList.add('item-card');
        itemCard.innerHTML = `  
          <h3>${item.name}</h3>
          <p><strong>Category:</strong> ${item.category}</p>
          <p><strong>Price:</strong> ${item.price}</p>
          <p><strong>Description:</strong> ${item.description}</p>
          ${item.imageUrl ? `<img src="${item.imageUrl}" alt="${item.name}">` : ''}
        `;
        itemsList.appendChild(itemCard);
      });
    }
  </script>
</body>
</html>
